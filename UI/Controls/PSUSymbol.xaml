<!--
    PSU / transformer section symbol.
    Uses a Viewbox so it scales to whatever Width × Height the parent sets.
    Design canvas: 48 × 80 px.
    Diagonal runs bottom-left → top-right; rod is right-side vertical bar;
    coil is a backward-C (open right) arc with a tail.
-->
<UserControl
    x:Class="Pulse.UI.Controls.PSUSymbol"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    IsHitTestVisible="False">
    <Viewbox Stretch="Fill">
        <Canvas Width="48" Height="80">

            <!--  Diagonal: bottom-left → top-right  -->
            <Line
                Stroke="{Binding DimBrush, FallbackValue=#66FFFFFF, TargetNullValue=#66FFFFFF}"
                StrokeThickness="1"
                X1="0.44"
                X2="47.58"
                Y1="0.24"
                Y2="79.74" />

            <!--  Rod (fuse): plain vertical bar, no end caps, right-centre  -->
            <Line
                Stroke="{Binding StrokeBrush, FallbackValue=#CCFFFFFF, TargetNullValue=#CCFFFFFF}"
                StrokeThickness="1.5"
                X1="36"
                X2="36"
                Y1="10"
                Y2="30" />

            <!--  Coil: backward-C arc (open to the right), lower-left  -->
            <Path
                Fill="Transparent"
                Stroke="{Binding DimBrush, FallbackValue=#66FFFFFF, TargetNullValue=#66FFFFFF}"
                StrokeThickness="1.5">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure IsClosed="False" StartPoint="15,72">
                            <!--  Large arc, counterclockwise = sweeps left → backward-C  -->
                            <ArcSegment
                                IsLargeArc="True"
                                Point="15,60"
                                RotationAngle="0"
                                Size="2,2"
                                SweepDirection="Clockwise" />
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>
            <Path
                Fill="Transparent"
                Stroke="{Binding DimBrush, FallbackValue=#66FFFFFF, TargetNullValue=#66FFFFFF}"
                StrokeThickness="1.5">
                <Path.Data>
                    <PathGeometry>
                        <PathFigure IsClosed="False" StartPoint="15,60">
                            <!--  Large arc, counterclockwise = sweeps left → backward-C  -->
                            <ArcSegment
                                IsLargeArc="True"
                                Point="15,48"
                                RotationAngle="0"
                                Size="2,2"
                                SweepDirection="Counterclockwise" />
                        </PathFigure>
                    </PathGeometry>
                </Path.Data>
            </Path>
            <!--  Short tail below coil  -->

        </Canvas>
    </Viewbox>
</UserControl>
