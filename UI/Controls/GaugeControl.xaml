<UserControl
    x:Class="Pulse.UI.Controls.GaugeControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    mc:Ignorable="d">

    <!--
        Speedometer-style semicircular gauge.
        All geometry is computed in code-behind from Value / Maximum DPs.
        Uses a Viewbox so the control scales to any size.
        Layout: label at top, thin arc ring, combined "V / M unit" text centered inside arc, percentage below.
    -->
    <Viewbox Stretch="Uniform">
        <Canvas Width="140" Height="108">

            <!-- Gauge label (e.g. "Controller Load") — top of gauge -->
            <TextBlock x:Name="LabelText"
                       Canvas.Left="0" Canvas.Top="4"
                       Width="140" TextAlignment="Center"
                       FontSize="9" Opacity="0.45"
                       Foreground="White"
                       TextOptions.TextFormattingMode="Display"/>

            <!-- Static background track: full 180° ring, Cx=70 Cy=78 OuterR=58 InnerR=35 -->
            <!-- M 12,78 A 58,58 0 0 0 128,78 L 105,78 A 35,35 0 0 1 35,78 Z -->
            <Path x:Name="BackTrackPath"
                  Data="M 12,78 A 58,58 0 0 0 128,78 L 105,78 A 35,35 0 0 1 35,78 Z"
                  Fill="#22FFFFFF"/>

            <!-- Value arc: geometry replaced in code-behind -->
            <Path x:Name="ValueArcPath"/>

            <!-- Combined "value / max unit" — large bold, centered inside the arc -->
            <TextBlock x:Name="ValueText"
                       Canvas.Left="0" Canvas.Top="46"
                       Width="140" TextAlignment="Center"
                       FontSize="14" FontWeight="Bold"
                       Foreground="White"/>

            <!-- Percentage below the value text -->
            <TextBlock x:Name="PercentText"
                       Canvas.Left="0" Canvas.Top="63"
                       Width="140" TextAlignment="Center"
                       FontSize="9" Opacity="0.50"
                       Foreground="White"/>

        </Canvas>
    </Viewbox>
</UserControl>
